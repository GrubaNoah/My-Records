<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Noah's Vinyl Vault</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1 id="homeTitle">Noah's Vinyl Vault</h1>
            <p class="subtitle">Enjoy Your Browsing</p>
        </header>

        <div class="progress-container" id="progressContainer">
            <div class="progress-text" id="progressText">Loading collection...</div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
        </div>

        <div class="controls" id="controls">
            <div class="search-section">
                <div class="search-container">
                    <input type="text" class="search-box" placeholder="Search artists, albums, or genres..." id="searchBox">
                    <button class="search-clear" id="searchClear">×</button>
                </div>
                <div class="view-toggle">
                    <button class="view-btn active" data-view="normal">Grid</button>
                    <button class="view-btn" data-view="compact">Compact</button>
                </div>
            </div>

            <div class="filter-section">
                <div class="filter-label">
                    <span id="filterLabel">Filter by Genre</span>
                    <button class="expand-btn" id="expandGenres">All</button>
                </div>
                <div class="filter-buttons" id="genreFilters">
                    <button class="filter-btn active" data-genre="all">All Genres</button>
                </div>
            </div>

            <div class="filter-section">
                <div class="filter-label">Sort Collection</div>
                <div class="sort-buttons">
                    <button class="sort-btn active" data-sort="artist">Artist A-Z</button>
                    <button class="sort-btn" data-sort="title">Album Title</button>
                    <button class="sort-btn" data-sort="year">Release Year</button>
                    <button class="sort-btn" data-sort="genre">Genre</button>
                </div>
            </div>
        </div>

        <div class="stats" id="stats">
            <div class="stats-item">
                <span class="stats-number" id="totalRecords">0</span>
                <span class="stats-label">Records</span>
            </div>
            <div class="stats-item clickable" id="artistsStats">
                <span class="stats-number" id="totalArtists">0</span>
                <span class="stats-label">Artists</span>
            </div>
            <div class="stats-item clickable" id="genresStats">
                <span class="stats-number" id="totalGenres">0</span>
                <span class="stats-label">Genres</span>
            </div>
        </div>

        <div id="loading" class="loading">
            Initializing...
        </div>

        <div id="error" class="error" style="display: none;">
            <h3>Error Loading Collection</h3>
            <p>Please check your configuration and try again.</p>
        </div>

        <div class="collection-grid" id="collectionGrid"></div>
    </div>

    <!-- Artist List Modal -->
    <div class="modal" id="artistModal">
        <div class="modal-content">
            <button class="close-btn" id="closeArtistModal">×</button>
            <h2>Artists in Collection</h2>
            <div id="artistListContent"></div>
        </div>
    </div>

    <!-- Genre List Modal -->
    <div class="modal" id="genreModal">
        <div class="modal-content">
            <button class="close-btn" id="closeGenreModal">×</button>
            <h2 id="genreModalTitle">All Genres</h2>
            <div id="genreListContent"></div>
        </div>
    </div>

    <!-- Album Details Modal -->
    <div class="modal" id="albumModal">
        <div class="modal-content">
            <button class="close-btn" id="closeAlbumModal">×</button>
            <div id="albumDetailsContent"></div>
        </div>
    </div>

    <!-- New Record Assignment Modal -->
    <div class="modal" id="newRecordModal">
        <div class="modal-content">
            <button class="close-btn" id="closeNewRecordModal">×</button>
            <h2>New Records Detected</h2>
            <p>These records weren't found in your CSV collection. Please assign genres:</p>
            <div id="newRecordsList"></div>
            <div style="text-align: center; margin-top: 20px;">
                <button class="sort-btn" id="saveNewAssignments">Save Assignments</button>
                <button class="filter-btn" id="skipNewAssignments">Skip for Now</button>
            </div>
        </div>
    </div>

    <!-- Recategorize Modal -->
    <div class="modal" id="recategorizeModal">
        <div class="modal-content">
            <button class="close-btn" id="closeRecategorizeModal">×</button>
            <h2>Recategorize Record</h2>
            <div id="recategorizeContent">
                <div class="new-record-item">
                    <div class="new-record-info">
                        <div class="new-record-artist" id="recatArtist"></div>
                        <div class="new-record-title" id="recatTitle"></div>
                        <div class="predicted-genre">Current: <span id="currentGenre"></span></div>
                    </div>
                    <div class="genre-assignment">
                        <select class="genre-dropdown" id="recategorizeDropdown">
                            <option value="">Select Genre...</option>
                            <option value="Bluegrass">Bluegrass</option>
                            <option value="Country">Country</option>
                            <option value="Electronic">Electronic</option>
                            <option value="Folk">Folk</option>
                            <option value="Funk">Funk</option>
                            <option value="Hip Hop">Hip Hop</option>
                            <option value="Indie">Indie</option>
                            <option value="Jam Band">Jam Band</option>
                            <option value="Jazz">Jazz</option>
                            <option value="Pop">Pop</option>
                            <option value="R&B">R&B</option>
                            <option value="Rock">Rock</option>
                            <option value="Soul">Soul</option>
                            <option value="Soundtracks">Soundtracks</option>
                            <option value="World">World</option>
                            <option value="Unassigned">Unassigned</option>
                        </select>
                        <button class="add-new-genre" id="recatAddNew">+ New Genre</button>
                        <input type="text" class="new-genre-input" id="recatNewInput" placeholder="Enter new genre..." style="display: none;">
                    </div>
                </div>
                <div style="text-align: center; margin-top: 20px;">
                    <button class="sort-btn" id="saveRecategorize">Save Change</button>
                    <button class="filter-btn" id="cancelRecategorize">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
